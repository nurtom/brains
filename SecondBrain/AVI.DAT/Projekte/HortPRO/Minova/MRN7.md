#minova 

- Aktuelle Software und Doku beim Hersteller https://minovatech.de/tools/MCRN7-TOOLS.zip
- Verbindung über neue Software MiExplore
- DHCP im 79 nötig (Steffen anfragen)
- IP nicht auf dem Gerät ersichtlich (Steffen fragen)
- Port scheinbar Standard 81
- MiExplore bei "Schraubenzieher/Schrauebnschlüssel zb: 10.9.79.153:81

## Fragen an Hersteller

ich bin heute dazu gekommen mir ein bestelltes MCRN7 Gerät genauer anzuschauen. Ich bin dabei aber noch auf ein paar initiale Probleme gestoßen, bei denen ich hoffe, dass sie mir helfen können. Ich habe vorab via [https://minovatech.de/tools/MCRN7-TOOLS.zip](https://minovatech.de/tools/MCRN7-TOOLS.zip "https://minovatech.de/tools/MCRN7-TOOLS.zip") ein Paket mit Doku und miExplore Software heruntergeladen. Die URL zu dem Zip hatte ich auf Grundlage einer vergangenen Kommunikation mit ihnen geraten, gehe aber davon aus, dass das aktuell ist, da die Doku zum Gerät in der gleichen Version 1.1 vorliegt, wie Sie mir vor wenigen Wochen zugeschickt haben. Die miExplore Software liegt in Version 3.73 vor. Ist das noch aktuell? Folgende Probleme sind mir im Umgang damit aufgefallen:

1. In der Doku steht, dass die Software bei dynamischer IP-Konfiguration die Adresse des Geräts automatisch ermitteln kann. Wie funktioniert das? Ich gehe davon aus, dass das Gerät initial mit dynamicIp=true ausgeliefert wurde. Unser DHCP hat dem Gerät auch eine IP Adresse gegeben, ich musste diese aber erst hintenrum via Netzwerk ermitteln und dann fest in miExplore hinterlegen, um mich mit dem Gerät verbinden zu können.
2. Das Auslesen jeglicher Konfigurationsdateien oder Bilddateien funktioniert nicht. Beim Klick auf Read für config bekomme ich „File not found!“. Die aktuelle Konfiguration auf dem Gerät ist daher für mich nicht einsehbar. Das trifft auch auf die screen-JSON Dateien zu und auch Bilder lassen sich nicht auslesen. Einzige Ausnahme zum "File not found!" ist bei screen1.json, da bekomme ich nur einen "Error!" im Interface angezeigt. Im Log kommen bei diesen Aktionen übrigens keine zusätzlichen Infos zum Error.
3. Ich habe versucht eine angepasste config.json auf Grundlage des Beipiels in der Doku zu erstellen. Mit dynamicIP= false in Verbindung mit einer konkreten IP konnte ich hochladen und das Gerät startete wie erwartet automatisch neu. Wenn ich aber z.B. server.domain=[http://10.9.79.35](http://10.9.79.35/ "http://10.9.79.35") konfiguriere zeigt mir das Interface zwar ein „Completed successfully“ an, die Verbindung zum Gerät scheint dann aber defekt. Zumindest lassen sich dann keine weiteren Kommandos an das Gerät senden und im Log bekomme ich auch Timeout error. Nur mit Disconnect und erneutem Connect kann ich wieder auf das gerät zugreifen. Die aktualisierte config.json scheint auch nicht zu greifen. Da das auslesen im TFT Tab aber nicht funktioniert, kann ich das auf die schnelle nicht genau nachprüfen.
4. In der Doku steht dass mittels server command auch Dateien auf das Gerät geschrieben werden können. Ich nehme an, damit ist CMD_DOWNLOAD_FILE gemeint.
5. Kann ich server commands auch manuell im miExplore triggern? Ich glaube im miFinder ging das damals noch.
	1. Gibt’s es ein server command Pendant zum Einsehen der sich auf dem Gerät befindenden JSON-Dateien?
	2. Für uns wäre der Modus web interessant, da wir dort https-Verschlüsselung nutzen können. Da dieser Modus jedoch keine stehende Verbindung nutzt und daher keine vom Server initiierte Kommandos nutzen kann, habe ich gehofft, dass das Gerät analog den MCR08 Geräten in konfigurierbaren Zeitintervallen ein Keepalive Request senden kann, damit wir dann dort im Response mit commands antworten können. In der Doku finde ich dazu keinen Hinweis. Allerdings steht in der Doku auch drin, dass das die Geräte zum alten ASCII Protokoll kompatibel sind, wo das noch ging. Existiert ein solcher Keepalive Mechanismus den wir für den web Modus nutzen könnten?

6. Wenn kein Keepalive über web Möglich ist, müssten wir wieder auf Modus socket gehen, wären dann aber darauf angewiesen dass wir hier wie bisher auch AES-Verschlüsselung nutzen können. Dazu habe ich in der Doku für die neuen Geräte aber nichts gefunden. Wird verschlüsselte Kommunikation über socket nicht mehr unterstützt?